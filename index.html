    <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>CS 4731 Final Project Part I</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        .gl-canvas {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        #webgl {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
    // Vertex shader
    <script id="vshader" type="x-shader/x-vertex">
        attribute vec4 vPosition;
        attribute vec4 vColor;          // per-vertex color coming from material
        attribute vec3 vNormal;         // per-vertex normal
        uniform mat4 uMVP;              // model-view-projection matrix
        uniform mat4 uMV;               // model-view matrix (here we only have view)
        varying vec4 fColor;
        varying vec3 fNormalEye;
        varying vec3 fPositionEye;

        void main() {
            // position in eye coordinates
            vec4 posEye = uMV * vPosition;
            fPositionEye = posEye.xyz;

            // transform normal to eye space (uMV has only rotation + translation; treat normal as vec4 w=0)
            fNormalEye = normalize((uMV * vec4(vNormal, 0.0)).xyz);

            gl_Position = uMVP * vPosition;
            fColor = vColor;
        }
    </script>

    // Fragment shader
    <script id="fshader" type="x-shader/x-fragment">
        precision mediump float;

        varying vec4 fColor;           // used as material diffuse
        varying vec3 fNormalEye;
        varying vec3 fPositionEye;

        uniform vec3 uLightDirection;  // assumed direction in eye-space 
        uniform vec4 lightDiffuse;
        uniform vec4 lightSpecular;
        uniform vec4 lightAmbient;
        uniform vec4 materialSpecular;
        uniform vec4 materialAmbient;
        uniform float shininess;

        void main() {
            vec3 N = normalize(fNormalEye);
            vec3 L = normalize(uLightDirection);
            vec3 V = normalize(-fPositionEye);

            // diffuse
            float nDotL = max(dot(N, L), 0.0);
            vec4 diffuse = lightDiffuse * fColor * nDotL;

            // specular: compute reflection R of -L about N or use reflect
            vec3 R = reflect(-L, N);
            float specFactor = pow(max(dot(R, V), 0.0), shininess);
            vec4 specular = lightSpecular * materialSpecular * specFactor;

            // ambient
            vec4 ambient = lightAmbient * (materialAmbient);

            vec4 color = ambient + diffuse + specular;
            color.a = 1.0;

            gl_FragColor = color;
        }
    </script>

    <script type="text/javascript" src="lib/webgl-utils.js"></script>
    <script type="text/javascript" src="lib/initShaders.js"></script>
    <script type="text/javascript" src="lib/MV.js"></script>

    <script type="text/javascript" src="lib/model.js"></script>
    <script type="text/javascript" src="lib/face.js"></script>
    <script type="text/javascript" src="main.js"></script>

</head>

    <body onload="main()">
        <h1 id="mode">CS 4731 Final Project</h1>

        <div class="gl-canvas">
            <canvas id="webgl">
                Please use a browser that supports the "canvas" tag.
            </canvas>
        </div>
    </body>
</html>
